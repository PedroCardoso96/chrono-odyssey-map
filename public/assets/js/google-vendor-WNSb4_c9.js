import{r as t,R as i}from"./router-vendor-C0czNOpy.js";function p(n={}){const{nonce:s,onScriptLoadSuccess:u,onScriptLoadError:a}=n,[l,r]=t.useState(!1),c=t.useRef(u);c.current=u;const d=t.useRef(a);return d.current=a,t.useEffect(()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=s,e.onload=()=>{var o;r(!0),(o=c.current)===null||o===void 0||o.call(c)},e.onerror=()=>{var o;r(!1),(o=d.current)===null||o===void 0||o.call(d)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[s]),l}const f=t.createContext(null);function m({clientId:n,nonce:s,onScriptLoadSuccess:u,onScriptLoadError:a,children:l}){const r=p({nonce:s,onScriptLoadSuccess:u,onScriptLoadError:a}),c=t.useMemo(()=>({clientId:n,scriptLoadedSuccessfully:r}),[n,r]);return i.createElement(f.Provider,{value:c},l)}export{m as G};
